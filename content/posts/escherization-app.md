+++
date = '2025-12-25T16:41:27+09:00'
draft = false
title = 'エッシャー化'
tags = ['エッシャー', 'タイリング', 'Python', 'Pyodide', '可視化']
categories = ['技術', '数学']
cover = { image = "/my-site/images/escherization-cover.png", alt = "エッシャー化アプリのキャッチ画像" }
+++

## エッシャー化アプリ

輪郭抽出とメッシュ変形を組み合わせ、入力画像をエッシャー風のタイルに変形して敷き詰めるWebアプリです。PyodideでPythonの計算を活かしつつ、Web側で前処理と表示を行っています。

**[アプリを試す →](/my-site/python-apps/escherization/)**

## できること

- 画像から輪郭を抽出してタイル形状を生成
- P1 / P2 / P3 のタイリングパターンで敷き詰め表示
- パラメータ調整でタイル形状をコントロール

## 仕組みの概要

1. 画像から輪郭を抽出し、タイルの境界形状を決定  
2. 境界の制約条件を満たすようにエッシャー化（境界の再配置）  
3. タイル内部を三角形メッシュに分割  
4. ASAP（As Similar As Possible）で境界に追従するようメッシュを変形  
5. 変形したタイルをタイリングして表示  

## パターンの違い

- **P1**: 平行移動のみのシンプルなタイリング  
- **P2**: 180度回転＋平行移動。偶数入力でも自動で奇数に調整  
- **P3**: 120度回転＋平行移動。1辺の頂点数だけ指定  

## 使い方の目安

- まずはサンプル画像で雰囲気を確認  
- タイル数を増やすほど全体像は見えやすいが、計算は重くなる  
- 輪郭の細かさは「中」から始めるとバランスがよい  

## 実装メモ

Pythonのエッシャー化処理はPyodideで実行し、輪郭抽出・メッシュ生成・変形はブラウザ側で処理しています。重い画像や高密度メッシュでは時間がかかるため、適度な解像度にすると安定します。

## 参考文献

- エッシャー・マジック―だまし絵の世界を数理で読み解く 2011/1/10 杉原 厚吉 (著)
