+++
date = '2026-01-16T17:45:00+09:00'
draft = false
title = 'IFSシダ編集アプリ'
tags = ['フラクタル', 'IFS', 'シダ', '数学', 'Python']
categories = ['技術', '数学']
cover = { image = "/my-site/images/ifs-fern-cover.png", alt = "バーンズリーのシダのIFSフラクタル" }
+++

## IFSシダ編集アプリ

線形写像のパラメータを調整して、IFS（反復関数系）によるフラクタル図形「バーンズリーのシダ」を生成・変形できるWebアプリです。

**[アプリを試す →](/my-site/python-apps/ifs-fern/)**

## できること

- シダを構成する4つの線形写像のパラメータ（確率、係数行列、平行移動ベクトル）を直接編集
- リアルタイムでの形状プレビュー
- プリセット値へのリセット機能

## IFS（Iterated Function System）とは

IFS（反復関数系）は、自己相似なフラクタル図形を生成するための数学的な手法の一つです。
全体が部分と相似になるような複数の縮小写像 $f_1, f_2, \dots, f_N$ のセットによって定義されます。
点 $x_0$ から始めて、ランダムに確率 $p_i$ で写像 $f_i$ を選び、
$x_{k+1} = f_i(x_k)$
という操作を繰り返して点を打っていくと、最終的に一定の図形（アトラクタ）が浮かび上がります。

![IFSの仕組み図解](/my-site/images/ifs-fern-ui.png)

## バーンズリーのシダ

有名な「バーンズリーのシダ」は、実はたった4つのアフィン変換の組み合わせで作られています。

1.  **茎**: 非常に細長く縮小して、底に配置する写像（確率1%）
2.  **小さい葉**: 小さく縮小して左側に配置する写像（確率85%）
3.  **大きい葉**: 少し回転させて右側に大きく配置する写像（確率7%）
4.  **先端**: 全体を少し縮小して上部に配置する写像（確率7%）

このアプリでは、これらの変換行列を自由に書き換えて、「自分だけのシダ」や全く異なるフラクタル図形を作って遊ぶことができます。

## 実装について

PythonのNumPyを使って高速に点列計算を行い、Pyodideを使ってブラウザ上でPythonコードを実行しています。
描画結果はCanvasにプロットされます。
